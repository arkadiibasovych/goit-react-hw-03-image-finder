(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{12:function(e,t,a){e.exports={galleryItem:"ImageGalleryItem_galleryItem__2tX92",image:"ImageGalleryItem_image__35Hdw"}},13:function(e,t,a){e.exports={overlay:"Modal_overlay__3ui1f",modal:"Modal_modal__2UT6Y"}},23:function(e,t,a){e.exports={app:"App_app__1myrS"}},24:function(e,t,a){e.exports={gallery:"ImageGallery_gallery__1dkdN"}},28:function(e,t,a){e.exports={button:"Button_button__3ktGb"}},35:function(e,t,a){},6:function(e,t,a){e.exports={searchBar:"Searchbar_searchBar__3U9T6",searchForm:"Searchbar_searchForm__2YcuN",button:"Searchbar_button__OveaU",button_label:"Searchbar_button_label__3dRku",form_input:"Searchbar_form_input__1vFBh"}},76:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(5),o=a.n(c),i=(a(35),a(14)),l=a(4),u=a(8),s=(a(36),a(23)),b=a.n(s),j=a(6),m=a.n(j),d=a(1),h=function(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(l.a)(a,2),c=r[0],o=r[1];return Object(d.jsx)("header",{className:m.a.searchBar,children:Object(d.jsxs)("form",{className:m.a.searchForm,onSubmit:function(e){e.preventDefault(),""!==c?(t(c),o("")):u.b.error("Input is clear! Enter your request please")},children:[Object(d.jsx)("button",{type:"submit",className:m.a.button,children:Object(d.jsx)("span",{className:m.a.button_label,children:"Search"})}),Object(d.jsx)("input",{className:m.a.form_input,type:"text",value:c,placeholder:"Search images and photos",onChange:function(e){o(e.target.value)}})]})})},f=a(12),p=a.n(f),O=function(e){var t=e.gallery,a=e.onClick;return Object(d.jsx)(d.Fragment,{children:t.map((function(e){return Object(d.jsx)("li",{className:p.a.galleryItem,onClick:a,children:Object(d.jsx)("img",{src:e.webformatURL,alt:"",className:p.a.image,"data-image":e.largeImageURL})},e.id)}))})},g=a(24),_=a.n(g),y=function(e){var t=e.gallery,a=e.onClick;return Object(d.jsx)("ul",{className:_.a.gallery,children:Object(d.jsx)(O,{gallery:t,onClick:a})})},x=a(25),v=a(26),S=a(30),k=a(29),w=a(27),N=a.n(w),C=function(e){Object(S.a)(a,e);var t=Object(k.a)(a);function a(){return Object(x.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"render",value:function(){return Object(d.jsx)(N.a,{type:"TailSpin",color:"#00BFFF",height:80,width:80})}}]),a}(n.Component),I=a(28),E=a.n(I),F=function(e){var t=e.onClick;return Object(d.jsx)("button",{onClick:t,className:E.a.button,type:"button",children:"Load more"})},B=a(13),L=a.n(B),U=document.querySelector("#modal-root"),G=function(e){var t=e.onClose,a=e.children;Object(n.useEffect)((function(){return window.addEventListener("keydown",r),function(){return window.removeEventListener("keydown",r)}}));var r=function(e){"Escape"===e.code&&t()};return Object(c.createPortal)(Object(d.jsx)("div",{className:L.a.overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(d.jsx)("div",{className:L.a.modal,children:a})}),U)},T=a(10),M=a.n(T);M.a.defaults.baseURL="https://pixabay.com/api/",M.a.defaults.params={key:"19957123-092fe89d59c01359f45ab382b",image_type:"photo",orientation:"horizontal",per_page:12};var R=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),o=Object(l.a)(c,2),s=o[0],j=o[1],m=Object(n.useState)(1),f=Object(l.a)(m,2),p=f[0],O=f[1],g=Object(n.useState)(""),_=Object(l.a)(g,2),x=_[0],v=_[1],S=Object(n.useState)(""),k=Object(l.a)(S,2),w=k[0],N=k[1];Object(n.useEffect)((function(){if(""!==x)return r(!0),function(e){var t=e.searchQuery,a=e.page;return M.a.get("",{params:{searchQuery:t,page:a}}).then((function(e){return e.data.hits}))}({page:p,searchQuery:x}).then((function(e){return j([].concat(Object(i.a)(s),Object(i.a)(e)))})).then((function(){return I()})).catch((function(e){return u.b.error("Error")})).finally((function(){return r(!1)}))}),[p,x]);var I=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})};return Object(d.jsxs)("div",{className:b.a.app,children:[Object(d.jsx)(h,{onSubmit:function(e){v(e),O(1),j([])}}),Object(d.jsx)(y,{gallery:s,onClick:function(e){e.preventDefault(),"IMG"===e.target.nodeName&&N(e.target.dataset.image)}}),a&&Object(d.jsx)(C,{}),s.length>0&&Object(d.jsx)(F,{onClick:function(){O(p+1)}}),w&&Object(d.jsx)(G,{onClose:function(){N("")},children:Object(d.jsx)("img",{src:w,alt:"modal"})}),Object(d.jsx)(u.a,{autoClose:1e3})]})};o.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(R,{})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.7813effd.chunk.js.map