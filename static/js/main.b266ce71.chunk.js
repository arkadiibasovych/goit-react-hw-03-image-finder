(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{12:function(e,t,a){e.exports={galleryItem:"ImageGalleryItem_galleryItem__2tX92",image:"ImageGalleryItem_image__35Hdw"}},13:function(e,t,a){e.exports={overlay:"Modal_overlay__3ui1f",modal:"Modal_modal__2UT6Y"}},23:function(e,t,a){e.exports={app:"App_app__1myrS"}},24:function(e,t,a){e.exports={gallery:"ImageGallery_gallery__1dkdN"}},28:function(e,t,a){e.exports={button:"Button_button__3ktGb"}},35:function(e,t,a){},6:function(e,t,a){e.exports={searchBar:"Searchbar_searchBar__3U9T6",searchForm:"Searchbar_searchForm__2YcuN",button:"Searchbar_button__OveaU",button_label:"Searchbar_button_label__3dRku",form_input:"Searchbar_form_input__1vFBh"}},76:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(5),o=a.n(c),i=(a(35),a(14)),u=a(4),s=a(8),l=(a(36),a(23)),b=a.n(l),j=a(6),m=a.n(j),d=a(1),p=function(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(u.a)(a,2),c=r[0],o=r[1];return Object(d.jsx)("header",{className:m.a.searchBar,children:Object(d.jsxs)("form",{className:m.a.searchForm,onSubmit:function(e){e.preventDefault(),""!==c?(t(c),o("")):s.b.error("Input is clear! Enter your request please")},children:[Object(d.jsx)("button",{type:"submit",className:m.a.button,children:Object(d.jsx)("span",{className:m.a.button_label,children:"Search"})}),Object(d.jsx)("input",{className:m.a.form_input,type:"text",value:c,placeholder:"Search images and photos",onChange:function(e){o(e.target.value)}})]})})},h=a(2),f=a.n(h),g=a(12),O=a.n(g),_=function(e){var t=e.gallery,a=e.onClick;return Object(d.jsx)(d.Fragment,{children:t.map((function(e){return Object(d.jsx)("li",{className:O.a.galleryItem,onClick:a,children:Object(d.jsx)("img",{src:e.webformatURL,alt:"",className:O.a.image,"data-image":e.largeImageURL})},e.id)}))})},y=a(24),x=a.n(y);_.propTypes={gallery:f.a.array.isRequired,onClick:f.a.func.isRequired};var v=function(e){var t=e.gallery,a=e.onClick;return Object(d.jsx)("ul",{className:x.a.gallery,children:Object(d.jsx)(_,{gallery:t,onClick:a})})},S=a(25),k=a(26),w=a(30),C=a(29),N=a(27),I=a.n(N),E=function(e){Object(w.a)(a,e);var t=Object(C.a)(a);function a(){return Object(S.a)(this,a),t.apply(this,arguments)}return Object(k.a)(a,[{key:"render",value:function(){return Object(d.jsx)(I.a,{type:"TailSpin",color:"#00BFFF",height:80,width:80})}}]),a}(n.Component),F=a(28),R=a.n(F),B=function(e){var t=e.onClick;return Object(d.jsx)("button",{onClick:t,className:R.a.button,type:"button",children:"Load more"})},T=a(13),q=a.n(T),L=document.querySelector("#modal-root"),U=function(e){var t=e.onClose,a=e.children;Object(n.useEffect)((function(){return window.addEventListener("keydown",r),function(){return window.removeEventListener("keydown",r)}}));var r=function(e){"Escape"===e.code&&t()};return Object(c.createPortal)(Object(d.jsx)("div",{className:q.a.overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(d.jsx)("div",{className:q.a.modal,children:a})}),L)},G=a(10),M=a.n(G);M.a.defaults.baseURL="https://pixabay.com/api/",M.a.defaults.params={key:"19957123-092fe89d59c01359f45ab382b",image_type:"photo",orientation:"horizontal",per_page:12};var Q=function(e){var t=e.searchQuery,a=e.page;return M.a.get("",{params:{searchQuery:t,page:a}}).then((function(e){return e.data.hits}))};Q.propTypes={searchQuery:f.a.string.isRequired,page:f.a.number.isRequired};var D=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),o=Object(u.a)(c,2),l=o[0],j=o[1],m=Object(n.useState)(1),h=Object(u.a)(m,2),f=h[0],g=h[1],O=Object(n.useState)(""),_=Object(u.a)(O,2),y=_[0],x=_[1],S=Object(n.useState)(""),k=Object(u.a)(S,2),w=k[0],C=k[1];Object(n.useEffect)((function(){if(""!==y)return r(!0),Q({page:f,searchQuery:y}).then((function(e){return j([].concat(Object(i.a)(l),Object(i.a)(e)))})).then((function(){return N()})).catch((function(e){return s.b.error("Error")})).finally((function(){return r(!1)}))}),[f,y]);var N=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})};return Object(d.jsxs)("div",{className:b.a.app,children:[Object(d.jsx)(p,{onSubmit:function(e){x(e),g(1),j([])}}),Object(d.jsx)(v,{gallery:l,onClick:function(e){e.preventDefault(),"IMG"===e.target.nodeName&&C(e.target.dataset.image)}}),a&&Object(d.jsx)(E,{}),l.length>0&&Object(d.jsx)(B,{onClick:function(){g(f+1)}}),w&&Object(d.jsx)(U,{onClose:function(){C("")},children:Object(d.jsx)("img",{src:w,alt:"modal"})}),Object(d.jsx)(s.a,{autoClose:1e3})]})};o.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(D,{})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.b266ce71.chunk.js.map